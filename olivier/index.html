<html>
    <head>
        <title>NFT Watcher Olivier</title>
        <link rel="shortcut icon" type="image/jpg" href="https://www.fabionodariphoto.com/wp-content/uploads/2021/04/NFT_Icona-360x360.jpg"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.1/css/jquery.dataTables.css">
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.js"></script>
        <script src="../nft.js"  type="text/javascript"></script>
    </head>
    <body>
        <h1>NFT Watcher</h1>
        <div id="nft-content">
            
        </div>
        <table id="table_id" class="display">
            <thead>
                <tr>
                    <th class="dt-left">Collection name</th>
                    <th class="dt-left">Invested</th>

                    <th class="dt-left">Floor Price</th>
                    <th class="dt-left">Floor Gains Eur</th>

                    <th class="dt-left">1d Avg Price</th>
                    <th class="dt-left">1d Avg Gains Eur</th>
                    <th class="dt-left">1d Avg Gains Eth</th>
                    <th class="dt-left">1d Avg Gains %</th>                    
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th class="dt-left"><strong>Total: </strong></th>
                    <th class="dt-left"></th>

                    <th class="dt-left"></th>
                    <th class="dt-left"></th>

                    <th class="dt-left"></th>
                    <th class="dt-left"></th>
                    <th class="dt-left"></th>
                    <th class="dt-left"></th>        
                </tr>
            </tfoot>
        </table>
    </body>
    <script>
        async function fetchFloor() {
            var output = [
                await fetchCollectionData("frontiergame", 0.022964266242501702+0.1, 1),
                await fetchItemData("frontier-luckywatcher","666251","0xd07dc4262bcdbf85190c01c996b4c06a461d2430", 0.1025+0.021361256, 1),
                await fetchCollectionData("space-punks-club", 0.71+0.02427624105661898, 1),
                await fetchCollectionData("space-dinos-club", 0.010545511900417962, 1),
                await fetchCollectionData("colonists", 0.001527914703189+0.04168302004, 1),
                await fetchCollectionData("more-loot",0.039179015445199806+0.021067838226123295+0.01759605737375255, 3),
                await fetchCollectionData("roguesocietybot", 0.010856515930520022+0.18, 2),
                await fetchCollectionData("fatales",0.349+0.026892752015760348, 1),
                await fetchCollectionData("tunesproject", 0.019667020810827526+0.08, 2)
            ];
            return output;
        }

        $(document).ready( function () {
            InitDatatable();
            getFloor();
            setInterval(getFloor, 30*60*1000);
        });
    </script>
</html>